<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</head>
<body>
    
    <div class='container mt-2'>
        <% if(arr.length===0){ %>
            <br />
            <p style="font-family: Georgia, 'Times New Roman', Times, serif; font-size: 30px; margin-left: 6%;"><img src='data:image/jpeg;base64,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' width="35" height="40" style="position: relative; top: -3px;" />    Phew, no urgent work soon....</p>
            <hr />
        <% } %>
        <% if(arr.length>0){ %>
            <div class='container mt-3'>
                <% if(!msg || msg.length==0){ %>
                    <h1><div style="color: rgba(0,0,0,0);">Hey</div></h1>
                <% } %>
                <% if(msg && msg.length>0){ %>
                    <div class="alert alert-primary" role="alert">
                        <%= msg %>
                    </div>
                <% } %>
                <br />
                <table class="table">
                    <thead style="color: white; background-color: rgba(33, 124, 46,0.75);">
                      <tr>
                        <th scope="col" >S.N.</th>
                        <th scope="col">Project Title</th>
                        <th scope="col" >Description</th>
                        <th scope="col">Time Left</th>
                        <th scope="col" >Go to Report</th>
                        <th scope="col" >Extend Deadline</th>
                      </tr>
                    </thead>
                    <tbody>
                        <% for(let i=0;i<arr.length;i++){ %>
                            <tr style="background-color:rgba(20,20,24,0.04);">
                                <th scope="row"><%= i+1 %>.</th>
                                <td><%= arr[i].title %></td>
                                <td><%= arr[i].description %></td>
                                <td><%= arr[i].left %> days</td>
                                <td><a href='/projectreport/<%= arr[i].project_id %>'>View Report</a></td>
                                <td>
                                    <div className='container'>
                                        <button type="button" class="btn btn-primary px-3" data-toggle="modal" data-target="<%= '#modal'+arr[i].project_id %>">
                                            Extend
                                        </button>
                                          <!-- Modal -->
                                          <div class="modal fade" id="<%= 'modal'+arr[i].project_id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                              <div class="modal-content">
                                                <div class="modal-body">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="myFunction(<%= arr[i].project_id %>)" >
                                                        <span aria-hidden="true">&times;</span> 
                                                    </button>
                                                    <b><h5 style="text-align: center; font-family: Georgia, 'Times New Roman', Times, serif;" class="mb-3">Request for Extension</h5></b>
                                                    <br />
                                                    
                                                    <form method="POST" action='/extend/<%= arr[i].project_id %>'>
                                                        <div class="form-group shadow-textarea">
                                                            <b><label for="deadline" style="font-size: 13.5px;">Proposed Deadline:</label></b>
                                                            <input type='text' class="form-control z-depth-1" placeholder="dd/mm/yyyy" name='deadline' id="<%= 'modall'+arr[i].project_id %>" />
                                                        </div>
                                                        <button class='btn btn-warning px-3' style="color: white; background-color: orange;">Request</button>
                                                    </form>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                    </div>
                                </td>
                            </tr>
                        <% } %>
                    </tbody>
                  </table>
            </div>
        <% } %>
    </div>
    <script>
        function myFunction(id) {
            console.log('modall'+id);
            const element=document.querySelector('#modall'+id);
            console.log(element.value)
            element.value=""
        }
    </script>
</body>